<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Global Communication App</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f2f2f2;
}

/* HEADER */
header{
  background:#004080;
  color:white;
  padding:16px;
  text-align:center;
}

/* USERNAME SETUP */
#usernameBox{
  background:white;
  padding:20px;
  margin:20px;
  border-radius:8px;
}
#usernameBox input{
  width:100%;
  padding:10px;
  font-size:16px;
}
#usernameBox button{
  margin-top:10px;
  padding:10px;
  width:100%;
  font-size:16px;
  background:#004080;
  color:white;
  border:none;
  border-radius:6px;
  cursor:pointer;
}

/* CHAT */
#chatApp{
  display:none;
  margin:10px;
}
#messages{
  background:white;
  height:300px;
  overflow-y:auto;
  padding:10px;
  border-radius:8px;
}
.message{
  margin-bottom:8px;
}
.username{
  font-weight:bold;
  color:#004080;
}
.time{
  font-size:11px;
  color:#777;
}

/* INPUT */
#inputArea{
  display:flex;
  margin-top:10px;
}
#inputArea input{
  flex:1;
  padding:10px;
  font-size:16px;
}
#inputArea button{
  padding:10px 14px;
  font-size:16px;
  background:#008000;
  color:white;
  border:none;
  cursor:pointer;
}
</style>
</head>

<body>

<header>
<h1>üåç Global Communication App</h1>
<p>Connect ‚Ä¢ Share ‚Ä¢ Communicate</p>
</header>

<!-- USERNAME -->
<div id="usernameBox">
  <h2>Enter Your Username</h2>
  <input id="usernameInput" placeholder="Your name">
  <button onclick="saveUsername()">Continue</button>
</div>

<!-- CHAT APP -->
<div id="chatApp">
  <p><b>Public Chat Room</b></p>
  <div id="messages"></div>

  <div id="inputArea">
    <input id="messageInput" placeholder="Type your message">
    <button onclick="sendMessage()">Send</button>
  </div>
</div>

<script>
let username = localStorage.getItem("username");

// LOAD USER
if(username){
  showChat();
}

// SAVE USERNAME
function saveUsername(){
  const input = document.getElementById("usernameInput").value.trim();
  if(input.length < 2){
    alert("Username must be at least 2 characters");
    return;
  }
  localStorage.setItem("username", input);
  username = input;
  showChat();
}

// SHOW CHAT
function showChat(){
  document.getElementById("usernameBox").style.display="none";
  document.getElementById("chatApp").style.display="block";
}

// SEND MESSAGE
function sendMessage(){
  const msgInput = document.getElementById("messageInput");
  const text = msgInput.value.trim();
  if(!text) return;

  const time = new Date().toLocaleTimeString();
  const msgDiv = document.createElement("div");
  msgDiv.className="message";
  msgDiv.innerHTML =
    `<span class="username">${username}</span>: ${text}
     <div class="time">${time}</div>`;

  document.getElementById("messages").appendChild(msgDiv);
  msgInput.value="";
  document.getElementById("messages").scrollTop =
    document.getElementById("messages").scrollHeight;
}

// ENTER TO SEND
document.getElementById("messageInput").addEventListener("keydown",e=>{
  if(e.key==="Enter") sendMessage();
});
</script>

</body>
</html>
